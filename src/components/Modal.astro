---
const { src, alt } = Astro.props;
---

<div class="relative">
  <img
    class={`toggle-modal p-2 w-screen max-w-80 h-auto lg:w-80 cursor-pointer mx-auto rounded`}
    src={src}
    alt={alt}
    loading="lazy"
  />

  <div
    class={`w-screen h-auto mx-auto z-30 fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center hidden `}
  >
    <div
      class="w:screen h-auto lg:h-screen lg:w-auto landscape:w-auto landscape:h-screen p-2"
    >
      <img
        src={src}
        alt={alt}
        loading="lazy"
        class="w-screen h-auto max-w-[1920px] lg:w-auto lg:h-full"
      />
    </div>
  </div>
</div>

<script is:inline data-astro-rerun>
  document.addEventListener("astro:page-load", () => {
    const modalElements = document.querySelectorAll(".toggle-modal");

    modalElements.forEach((modalElement) => {
      const modal = modalElement.nextElementSibling;

      modalElement.addEventListener("click", () => {
        modal.classList.remove("hidden");
      });

      modal.addEventListener("click", () => {
        modal.classList.add("hidden");
      });
    });
  });
</script>
